import{g as xt,R as ot,P as z,b as bt,r as G,j as I}from"./index-c8zhxm0K.js";var nt={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var ct;function Mt(){return ct||(ct=1,function(t){(function(){var s={}.hasOwnProperty;function n(){for(var a="",c=0;c<arguments.length;c++){var p=arguments[c];p&&(a=o(a,r(p)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var c="";for(var p in a)s.call(a,p)&&a[p]&&(c=o(c,p));return c}function o(a,c){return c?a?a+" "+c:a+c:a}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(nt)),nt.exports}var Rt=Mt();const zt=xt(Rt);var Ot=["top","left","transform","className","children","innerRef"];function it(){return it=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},it.apply(this,arguments)}function Et(t,s){if(t==null)return{};var n={},r=Object.keys(t),o,a;for(a=0;a<r.length;a++)o=r[a],!(s.indexOf(o)>=0)&&(n[o]=t[o]);return n}function yt(t){var s=t.top,n=s===void 0?0:s,r=t.left,o=r===void 0?0:r,a=t.transform,c=t.className,p=t.children,E=t.innerRef,T=Et(t,Ot);return ot.createElement("g",it({ref:E,className:zt("visx-group",c),transform:a||"translate("+o+", "+n+")"},T),p)}yt.propTypes={top:z.number,left:z.number,transform:z.string,className:z.string,children:z.node,innerRef:z.oneOfType([z.string,z.func,z.object])};var Wt={value:function(){}};function mt(){for(var t=0,s=arguments.length,n={},r;t<s;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Q(n)}function Q(t){this._=t}function jt(t,s){return t.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!s.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Q.prototype=mt.prototype={constructor:Q,on:function(t,s){var n=this._,r=jt(t+"",n),o,a=-1,c=r.length;if(arguments.length<2){for(;++a<c;)if((o=(t=r[a]).type)&&(o=Ct(n[o],t.name)))return o;return}if(s!=null&&typeof s!="function")throw new Error("invalid callback: "+s);for(;++a<c;)if(o=(t=r[a]).type)n[o]=ht(n[o],t.name,s);else if(s==null)for(o in n)n[o]=ht(n[o],t.name,null);return this},copy:function(){var t={},s=this._;for(var n in s)t[n]=s[n].slice();return new Q(t)},call:function(t,s){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,a;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,o=a.length;r<o;++r)a[r].value.apply(s,n)},apply:function(t,s,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,a=r.length;o<a;++o)r[o].value.apply(s,n)}};function Ct(t,s){for(var n=0,r=t.length,o;n<r;++n)if((o=t[n]).name===s)return o.value}function ht(t,s,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===s){t[r]=Wt,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:s,value:n}),t}const Tt=Object.freeze(Object.defineProperty({__proto__:null,dispatch:mt},Symbol.toStringTag,{value:"Module"})),qt=bt(Tt);var rt,pt;function Pt(){if(pt)return rt;pt=1;const t=qt.dispatch,s=Math.PI/180,n={archimedean:w,rectangular:at},r=64,o=2048;rt=function(){var i=[256,256],e=a,x=c,v=E,y=p,d=p,g=T,O=D,q=w,P=[],A=1/0,W=t("word","end"),S=null,$=Math.random,f={},B=gt;f.canvas=function(u){return arguments.length?(B=N(u),f):B},f.start=function(){var u=_(B()),h=dt((i[0]>>5)*i[1]),b=null,M=P.length,F=-1,k=[],j=P.map(function(m,l){return m.text=e.call(this,m,l),m.font=x.call(this,m,l),m.style=y.call(this,m,l),m.weight=d.call(this,m,l),m.rotate=g.call(this,m,l),m.size=~~v.call(this,m,l),m.padding=O.call(this,m,l),m}).sort(function(m,l){return l.size-m.size});return S&&clearInterval(S),S=setInterval(L,0),L(),f;function L(){for(var m=Date.now();Date.now()-m<A&&++F<M&&S;){var l=j[F];l.x=i[0]*($()+.5)>>1,l.y=i[1]*($()+.5)>>1,H(u,l,j,F),l.hasText&&V(h,l,b)&&(k.push(l),W.call("word",f,l),b?U(b,l):b=[{x:l.x+l.x0,y:l.y+l.y0},{x:l.x+l.x1,y:l.y+l.y1}],l.x-=i[0]>>1,l.y-=i[1]>>1)}F>=M&&(f.stop(),W.call("end",f,k,b))}},f.stop=function(){S&&(clearInterval(S),S=null);for(const u of P)delete u.sprite;return f};function _(u){const h=u.getContext("2d",{willReadFrequently:!0});u.width=u.height=1;const b=Math.sqrt(h.getImageData(0,0,1,1).data.length>>2);return u.width=(r<<5)/b,u.height=o/b,h.fillStyle=h.strokeStyle="red",{context:h,ratio:b}}function V(u,h,b){i[0],i[1];for(var M=h.x,F=h.y,k=Math.sqrt(i[0]*i[0]+i[1]*i[1]),j=q(i),L=$()<.5?1:-1,m=-L,l,K,R;(l=j(m+=L))&&(K=~~l[0],R=~~l[1],!(Math.min(Math.abs(K),Math.abs(R))>=k));)if(h.x=M+K,h.y=F+R,!(h.x+h.x0<0||h.y+h.y0<0||h.x+h.x1>i[0]||h.y+h.y1>i[1])&&(!b||Z(h,b))&&!Y(h,u,i[0])){for(var C=h.sprite,J=h.width>>5,st=i[0]>>5,ut=h.x-(J<<4),ft=ut&127,wt=32-ft,St=h.y1-h.y0,lt=(h.y+h.y0)*st+(ut>>5),tt,et=0;et<St;et++){tt=0;for(var X=0;X<=J;X++)u[lt+X]|=tt<<wt|(X<J?(tt=C[et*J+X])>>>ft:0);lt+=st}return!0}return!1}return f.timeInterval=function(u){return arguments.length?(A=u??1/0,f):A},f.words=function(u){return arguments.length?(P=u,f):P},f.size=function(u){return arguments.length?(i=[+u[0],+u[1]],f):i},f.font=function(u){return arguments.length?(x=N(u),f):x},f.fontStyle=function(u){return arguments.length?(y=N(u),f):y},f.fontWeight=function(u){return arguments.length?(d=N(u),f):d},f.rotate=function(u){return arguments.length?(g=N(u),f):g},f.text=function(u){return arguments.length?(e=N(u),f):e},f.spiral=function(u){return arguments.length?(q=n[u]||u,f):q},f.fontSize=function(u){return arguments.length?(v=N(u),f):v},f.padding=function(u){return arguments.length?(O=N(u),f):O},f.random=function(u){return arguments.length?($=u,f):$},f.on=function(){var u=W.on.apply(W,arguments);return u===W?f:u},f};function a(i){return i.text}function c(){return"serif"}function p(){return"normal"}function E(i){return Math.sqrt(i.value)}function T(){return(~~(random()*6)-3)*30}function D(){return 1}function H(i,e,x,v){if(!e.sprite){var y=i.context,d=i.ratio;y.clearRect(0,0,(r<<5)/d,o/d);var g=0,O=0,q=0,P=x.length;for(--v;++v<P;){e=x[v],y.save(),y.font=e.style+" "+e.weight+" "+~~((e.size+1)/d)+"px "+e.font;const l=y.measureText(e.text),K=-Math.floor(l.width/2);let R=(l.width+1)*d,C=e.size<<1;if(e.rotate){var A=Math.sin(e.rotate*s),W=Math.cos(e.rotate*s),S=R*W,$=R*A,f=C*W,B=C*A;R=Math.max(Math.abs(S+B),Math.abs(S-B))+31>>5<<5,C=~~Math.max(Math.abs($+f),Math.abs($-f))}else R=R+31>>5<<5;if(C>q&&(q=C),g+R>=r<<5&&(g=0,O+=q,q=0),O+C>=o)break;y.translate((g+(R>>1))/d,(O+(C>>1))/d),e.rotate&&y.rotate(e.rotate*s),y.fillText(e.text,K,0),e.padding&&(y.lineWidth=2*e.padding,y.strokeText(e.text,K,0)),y.restore(),e.width=R,e.height=C,e.xoff=g,e.yoff=O,e.x1=R>>1,e.y1=C>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,g+=R}for(var _=y.getImageData(0,0,(r<<5)/d,o/d).data,V=[];--v>=0;)if(e=x[v],!!e.hasText){for(var u=e.width,h=u>>5,b=e.y1-e.y0,M=0;M<b*h;M++)V[M]=0;if(g=e.xoff,g==null)return;O=e.yoff;for(var F=0,k=-1,j=0;j<b;j++){for(var M=0;M<u;M++){var L=h*j+(M>>5),m=_[(O+j)*(r<<5)+(g+M)<<2]?1<<31-M%32:0;V[L]|=m,F|=m}F?k=j:(e.y0++,b--,j--,O++)}e.y1=e.y0+k,e.sprite=V.slice(0,(e.y1-e.y0)*h)}}}function Y(i,e,x){x>>=5;for(var v=i.sprite,y=i.width>>5,d=i.x-(y<<4),g=d&127,O=32-g,q=i.y1-i.y0,P=(i.y+i.y0)*x+(d>>5),A,W=0;W<q;W++){A=0;for(var S=0;S<=y;S++)if((A<<O|(S<y?(A=v[W*y+S])>>>g:0))&e[P+S])return!0;P+=x}return!1}function U(i,e){var x=i[0],v=i[1];e.x+e.x0<x.x&&(x.x=e.x+e.x0),e.y+e.y0<x.y&&(x.y=e.y+e.y0),e.x+e.x1>v.x&&(v.x=e.x+e.x1),e.y+e.y1>v.y&&(v.y=e.y+e.y1)}function Z(i,e){return i.x+i.x1>e[0].x&&i.x+i.x0<e[1].x&&i.y+i.y1>e[0].y&&i.y+i.y0<e[1].y}function w(i){var e=i[0]/i[1];return function(x){return[e*(x*=.1)*Math.cos(x),x*Math.sin(x)]}}function at(i){var e=4,x=e*i[0]/i[1],v=0,y=0;return function(d){var g=d<0?-1:1;switch(Math.sqrt(1+4*g*d)-g&3){case 0:v+=x;break;case 1:y+=e;break;case 2:v-=x;break;default:y-=e;break}return[v,y]}}function dt(i){for(var e=[],x=-1;++x<i;)e[x]=0;return e}function gt(){return document.createElement("canvas")}function N(i){return typeof i=="function"?i:function(){return i}}return rt}var At=Pt();const Ft=xt(At);function It(t){var s=t.width,n=t.height,r=t.font,o=t.fontSize,a=t.fontStyle,c=t.fontWeight,p=t.padding,E=t.random,T=t.rotate,D=t.spiral,H=t.words,Y=G.useState([]),U=Y[0],Z=Y[1];return G.useEffect(function(){if(!(s===0||n===0)){var w=Ft();return w.size([s,n]),w.words(H),typeof E<"u"&&w.random(E),typeof r<"u"&&w.font(r),typeof p<"u"&&w.padding(p),typeof o<"u"&&w.fontSize(o),typeof a<"u"&&w.fontStyle(a),typeof c<"u"&&w.fontWeight(c),typeof T<"u"&&w.rotate(T),typeof D<"u"&&w.spiral(D),w.on("end",Z),w.start(),function(){w.stop()}}},[s,n,r,o,a,c,p,E,T,D,H]),U}var Dt=["children"];function Nt(t,s){if(t==null)return{};var n={},r=Object.keys(t),o,a;for(a=0;a<r.length;a++)o=r[a],!(s.indexOf(o)>=0)&&(n[o]=t[o]);return n}function vt(t){var s=t.children,n=Nt(t,Dt),r=n.width,o=n.height,a=It(n);return r===0||o===0?null:ot.createElement("svg",{width:r,height:o},ot.createElement(yt,{left:r/2,top:o/2},s(a)))}vt.propTypes={children:z.func.isRequired};const $t=({words:t})=>{const s=G.useRef(null),[n,r]=G.useState({width:300,height:200}),o=c=>{const p=Math.max(n.width/18,12);return Math.min(c.value*8+8,p)},a=()=>Math.random()>.5?0:90;return G.useEffect(()=>{const c=new ResizeObserver(p=>{for(let E of p){const{width:T}=E.contentRect,D=T>320?T:320;r({width:D,height:D*.6})}});return s.current&&c.observe(s.current),()=>c.disconnect()},[]),I.jsxs("div",{ref:s,style:{width:"100%",minHeight:"200px",overflowX:"auto",padding:"10px 0",textAlign:"left"},children:[I.jsx("svg",{width:n.width,height:n.height,style:{maxWidth:"100%",height:"auto"},children:I.jsx(vt,{words:t.slice(0,100),width:n.width,height:n.height,fontSize:o,font:"Arial",padding:1,rotate:a,spiral:"archimedean",random:()=>.5,children:c=>c.map((p,E)=>I.jsx("text",{textAnchor:"middle",transform:`translate(${p.x}, ${p.y}) rotate(${p.rotate})`,fontSize:p.size,fontFamily:"Arial",fill:["#00C49F","#FFBB28","#FF5E5E"][E%3],children:p.text},p.text+E))})}),I.jsxs("div",{className:"word-legend",children:[I.jsx("h5",{children:"🔤 All Keywords:"}),I.jsx("ul",{style:{columns:2,fontSize:"14px",paddingLeft:"20px"},children:t.map((c,p)=>I.jsxs("li",{children:[I.jsx("strong",{children:c.text}),": ",c.value]},p))})]})]})};$t.propTypes={words:z.arrayOf(z.shape({text:z.string.isRequired,value:z.number.isRequired})).isRequired};export{$t as W};
