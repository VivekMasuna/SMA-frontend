import{r as s,j as e,a as y}from"./index-ChNrdEtI.js";const L=()=>{const[a,p]=s.useState(""),[o,l]=s.useState(null),[u,i]=s.useState(!1),[h,d]=s.useState(""),j=n=>{try{return new URL(n),!0}catch{return!1}},x=async n=>{if(n.preventDefault(),i(!0),d(""),!j(a)){d("Please enter a valid URL (starting with http/https)."),i(!1);return}try{const r=await y.post("https://sma-vlab-backend.kjsieit.com/api/scrape",{method:"BeautifulSoup",url:a});l(r.data.data)}catch(r){console.error("Error:",r),d("Failed to fetch data. Please try again.")}finally{i(!1)}};return e.jsxs("div",{className:"scrape-container",children:[e.jsx("h2",{children:"BeautifulSoup Scraping"}),e.jsxs("form",{onSubmit:x,className:"scrape-form",children:[e.jsx("input",{type:"text",placeholder:"Enter URL",value:a,onChange:n=>p(n.target.value),required:!0}),e.jsx("button",{type:"submit",disabled:u,children:u?"Scraping...":"Scrape"})]}),h&&e.jsx("p",{className:"error",children:h}),o&&e.jsxs("div",{className:"results",children:[e.jsx("h3",{children:"Results:"}),e.jsxs("p",{className:"json-note",children:[e.jsx("strong",{children:"Note: "}),"The results are currently displayed in JSON format. A more user-friendly format will be introduced in upcoming updates."]}),e.jsx("pre",{children:JSON.stringify(o,null,2)})]})]})},U=()=>{const[a,p]=s.useState(""),[o,l]=s.useState(null),[u,i]=s.useState(!1),[h,d]=s.useState(""),j=n=>{try{return new URL(n),!0}catch{return!1}},x=async n=>{if(n.preventDefault(),i(!0),d(""),!j(a)){d("Please enter a valid URL (starting with http/https)."),i(!1);return}try{const r=await y.post("https://sma-vlab-backend.kjsieit.com/api/scrape",{method:"Requests",url:a});l(r.data.data)}catch(r){console.error("Error:",r),d("Failed to fetch data. Please try again.")}finally{i(!1)}};return e.jsxs("div",{className:"scrape-container",children:[e.jsx("h2",{children:"Requests Scraping"}),e.jsxs("form",{onSubmit:x,className:"scrape-form",children:[e.jsx("input",{type:"text",placeholder:"Enter URL",value:a,onChange:n=>p(n.target.value),required:!0}),e.jsx("button",{type:"submit",disabled:u,children:u?"Scraping...":"Scrape"})]}),h&&e.jsx("p",{className:"error",children:h}),o&&e.jsxs("div",{className:"results",children:[e.jsx("h3",{children:"Results:"}),e.jsxs("p",{className:"json-note",children:[e.jsx("strong",{children:"Note: "}),"The results are currently displayed in JSON format. A more user-friendly format will be introduced in upcoming updates."]}),e.jsx("pre",{children:JSON.stringify(o,null,2)})]})]})},F=()=>{const[a,p]=s.useState(""),[o,l]=s.useState(""),[u,i]=s.useState([]),[h,d]=s.useState([]),[j,x]=s.useState(!1),[n,r]=s.useState(""),[b,v]=s.useState(1),[N,P]=s.useState(1),g=10;s.useEffect(()=>{(async()=>{try{const f=(await y.get("https://sma-vlab-backend.kjsieit.com/api/scrape/twitter-stored")).data.flatMap(m=>m.tweets.map(S=>({id:S.id,text:S.text,username:S.username,created_at:S.created_at,query:m.query})));d(f)}catch(c){console.error("Error fetching stored data:",c)}})()},[]);const I=async t=>{if(t.preventDefault(),x(!0),r(""),!a.trim()){r("Please enter a valid search query."),x(!1);return}if(o.length<20){r("Invalid token. Please enter a valid Twitter Bearer Token."),x(!1);return}try{const c=await y.post("https://sma-vlab-backend.kjsieit.com/api/scrape/twitter",{query:a,bearerToken:o});i(c.data.data),v(1)}catch(c){console.error(c),c.response&&c.response.data?r(c.response.data.error||"Failed to fetch Twitter data."):r("Something went wrong.")}finally{x(!1)}},w=()=>v(t=>t+1),T=()=>v(t=>t>1?t-1:1),A=()=>P(t=>t+1),q=()=>P(t=>t>1?t-1:1),E=(t,c,f)=>{const m=(c-1)*f;return t.slice(m,m+f)},k=E(u,b,g),D=E(h,N,g),R=b*g<u.length,C=N*g<h.length;return e.jsxs("div",{className:"scrape-container",children:[e.jsx("h2",{children:"Twitter API Data Extraction"}),e.jsxs("p",{className:"token-warning",children:[e.jsx("b",{children:"Please note:"})," Twitter API allows only ",e.jsx("strong",{children:"1 request every 15 minutes per user"})," & ",e.jsx("strong",{children:"10 requests per month"})," under free access.",e.jsx("br",{}),"A complete guide for creating your token is provided in the ",e.jsx("strong",{children:"Procedure"})," section to help you get started easily.",e.jsx("br",{}),"Your token is only used locally and is not stored anywhere."]}),e.jsxs("form",{onSubmit:I,className:"scrape-form",children:[e.jsx("input",{type:"text",placeholder:"Enter any search query",value:a,onChange:t=>p(t.target.value),required:!0}),e.jsx("input",{type:"text",placeholder:"Enter your Twitter Bearer Token",value:o,onChange:t=>l(t.target.value),required:!0}),e.jsx("button",{type:"submit",disabled:j,children:j?"Fetching...":"Fetch Twitter Data"})]}),n&&e.jsx("p",{className:"error",children:n}),k.length>0&&e.jsxs("div",{className:"results",children:[e.jsx("h3",{children:"Newly Extracted Data:"}),e.jsx("ul",{children:k.map(t=>e.jsxs("li",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"ID:"})," ",t.id]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Text:"})," ",t.text]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Created At:"})," ",new Date(t.created_at).toLocaleString()]})]},t.id))}),e.jsxs("div",{className:"pagination-buttons",children:[e.jsx("button",{onClick:T,disabled:b===1,children:"Previous"}),e.jsx("button",{onClick:w,disabled:!R,children:"Next"})]})]}),D.length>0&&e.jsxs("div",{className:"results",children:[e.jsx("h3",{children:"Previously Extracted Data:"}),e.jsx("ul",{children:D.map(t=>e.jsxs("li",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"ID:"})," ",t.id]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Text:"})," ",t.text]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Username:"})," ",t.username]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Query:"})," ",t.query]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Extracted At:"})," ",new Date(t.created_at).toLocaleString()]})]},t.id))}),e.jsxs("div",{className:"pagination-buttons",children:[e.jsx("button",{onClick:q,disabled:N===1,children:"Previous"}),e.jsx("button",{onClick:A,disabled:!C,children:"Next"})]})]})]})},B=()=>e.jsx("div",{children:"Facebook API Data Extraction Component"}),M=()=>e.jsx("div",{children:"Instagram API Data Extraction Component"}),J=()=>e.jsx("div",{children:"YouTube API Data Extraction Component"}),O=()=>e.jsx("div",{children:"IEEE Xplore Data Extraction Component"}),_=()=>{const[a,p]=s.useState(null),o=()=>{switch(a){case"BeautifulSoup":return e.jsx(L,{});case"Requests":return e.jsx(U,{});case"TwitterAPI":return e.jsx(F,{});case"FacebookAPI":return e.jsx(B,{});case"InstagramAPI":return e.jsx(M,{});case"YouTubeAPI":return e.jsx(J,{});case"IEEEXplore":return e.jsx(O,{});default:return e.jsx("p",{className:"center-karo",children:"Please select a method for data extraction."})}};return e.jsxs("div",{className:"simulation2-container",children:[e.jsx("h1",{className:"header2",children:"Select a method for Data Extraction"}),e.jsx("div",{className:"button2-container",children:["BeautifulSoup","Requests","TwitterAPI"].map(l=>e.jsx("button",{onClick:()=>p(l),className:a===l?"active":"",children:l},l))}),e.jsx("div",{className:"component2-container",children:o()})]})};export{_ as default};
