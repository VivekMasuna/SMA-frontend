import{r,j as e,a as y}from"./index-BgaYWGxT.js";const L=()=>{const[a,p]=r.useState(""),[o,c]=r.useState(null),[u,i]=r.useState(!1),[h,d]=r.useState(""),j=n=>{try{return new URL(n),!0}catch{return!1}},x=async n=>{if(n.preventDefault(),i(!0),d(""),!j(a)){d("Please enter a valid URL (starting with http/https)."),i(!1);return}try{const s=await y.post("undefined/api/scrape",{method:"BeautifulSoup",url:a});c(s.data.data)}catch(s){console.error("Error:",s),d("Failed to fetch data. Please try again.")}finally{i(!1)}};return e.jsxs("div",{className:"scrape-container",children:[e.jsx("h2",{children:"BeautifulSoup Scraping"}),e.jsxs("form",{onSubmit:x,className:"scrape-form",children:[e.jsx("input",{type:"text",placeholder:"Enter URL",value:a,onChange:n=>p(n.target.value),required:!0}),e.jsx("button",{type:"submit",disabled:u,children:u?"Scraping...":"Scrape"})]}),h&&e.jsx("p",{className:"error",children:h}),o&&e.jsxs("div",{className:"results",children:[e.jsx("h3",{children:"Results:"}),e.jsxs("p",{className:"json-note",children:[e.jsx("strong",{children:"Note: "}),"The results are currently displayed in JSON format. A more user-friendly format will be introduced in upcoming updates."]}),e.jsx("pre",{children:JSON.stringify(o,null,2)})]})]})},U=()=>{const[a,p]=r.useState(""),[o,c]=r.useState(null),[u,i]=r.useState(!1),[h,d]=r.useState(""),j=n=>{try{return new URL(n),!0}catch{return!1}},x=async n=>{if(n.preventDefault(),i(!0),d(""),!j(a)){d("Please enter a valid URL (starting with http/https)."),i(!1);return}try{const s=await y.post("undefined/api/scrape",{method:"Requests",url:a});c(s.data.data)}catch(s){console.error("Error:",s),d("Failed to fetch data. Please try again.")}finally{i(!1)}};return e.jsxs("div",{className:"scrape-container",children:[e.jsx("h2",{children:"Requests Scraping"}),e.jsxs("form",{onSubmit:x,className:"scrape-form",children:[e.jsx("input",{type:"text",placeholder:"Enter URL",value:a,onChange:n=>p(n.target.value),required:!0}),e.jsx("button",{type:"submit",disabled:u,children:u?"Scraping...":"Scrape"})]}),h&&e.jsx("p",{className:"error",children:h}),o&&e.jsxs("div",{className:"results",children:[e.jsx("h3",{children:"Results:"}),e.jsxs("p",{className:"json-note",children:[e.jsx("strong",{children:"Note: "}),"The results are currently displayed in JSON format. A more user-friendly format will be introduced in upcoming updates."]}),e.jsx("pre",{children:JSON.stringify(o,null,2)})]})]})},F=()=>{const[a,p]=r.useState(""),[o,c]=r.useState(""),[u,i]=r.useState([]),[h,d]=r.useState([]),[j,x]=r.useState(!1),[n,s]=r.useState(""),[b,v]=r.useState(1),[N,P]=r.useState(1),g=10;r.useEffect(()=>{(async()=>{try{const f=(await y.get("undefined/api/scrape/twitter-stored")).data.flatMap(m=>m.tweets.map(S=>({id:S.id,text:S.text,username:S.username,created_at:S.created_at,query:m.query})));d(f)}catch(l){console.error("Error fetching stored data:",l)}})()},[]);const w=async t=>{if(t.preventDefault(),x(!0),s(""),!a.trim()){s("Please enter a valid search query."),x(!1);return}if(o.length<20){s("Invalid token. Please enter a valid Twitter Bearer Token."),x(!1);return}try{const l=await y.post("undefined/api/scrape/twitter",{query:a,bearerToken:o});i(l.data.data),v(1)}catch(l){console.error(l),l.response&&l.response.data?s(l.response.data.error||"Failed to fetch Twitter data."):s("Something went wrong.")}finally{x(!1)}},T=()=>v(t=>t+1),A=()=>v(t=>t>1?t-1:1),k=()=>P(t=>t+1),q=()=>P(t=>t>1?t-1:1),E=(t,l,f)=>{const m=(l-1)*f;return t.slice(m,m+f)},D=E(u,b,g),I=E(h,N,g),R=b*g<u.length,C=N*g<h.length;return e.jsxs("div",{className:"scrape-container",children:[e.jsx("h2",{children:"Twitter API Data Extraction"}),e.jsxs("p",{className:"token-warning",children:[e.jsx("b",{children:"Please note:"})," Twitter API allows only ",e.jsx("strong",{children:"1 request every 15 minutes per user"})," & ",e.jsx("strong",{children:"10 requests per month"})," under free access.",e.jsx("br",{}),"A complete guide for creating your token is provided in the ",e.jsx("strong",{children:"Procedure"})," section to help you get started easily.",e.jsx("br",{}),"Your token is only used locally and is not stored anywhere."]}),e.jsxs("form",{onSubmit:w,className:"scrape-form",children:[e.jsx("input",{type:"text",placeholder:"Enter any search query",value:a,onChange:t=>p(t.target.value),required:!0}),e.jsx("input",{type:"text",placeholder:"Enter your Twitter Bearer Token",value:o,onChange:t=>c(t.target.value),required:!0}),e.jsx("button",{type:"submit",disabled:j,children:j?"Fetching...":"Fetch Twitter Data"})]}),n&&e.jsx("p",{className:"error",children:n}),D.length>0&&e.jsxs("div",{className:"results",children:[e.jsx("h3",{children:"Newly Extracted Data:"}),e.jsx("ul",{children:D.map(t=>e.jsxs("li",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"ID:"})," ",t.id]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Text:"})," ",t.text]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Created At:"})," ",new Date(t.created_at).toLocaleString()]})]},t.id))}),e.jsxs("div",{className:"pagination-buttons",children:[e.jsx("button",{onClick:A,disabled:b===1,children:"Previous"}),e.jsx("button",{onClick:T,disabled:!R,children:"Next"})]})]}),I.length>0&&e.jsxs("div",{className:"results",children:[e.jsx("h3",{children:"Previously Extracted Data:"}),e.jsx("ul",{children:I.map(t=>e.jsxs("li",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"ID:"})," ",t.id]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Text:"})," ",t.text]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Username:"})," ",t.username]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Query:"})," ",t.query]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Extracted At:"})," ",new Date(t.created_at).toLocaleString()]})]},t.id))}),e.jsxs("div",{className:"pagination-buttons",children:[e.jsx("button",{onClick:q,disabled:N===1,children:"Previous"}),e.jsx("button",{onClick:k,disabled:!C,children:"Next"})]})]})]})},B=()=>e.jsx("div",{children:"Facebook API Data Extraction Component"}),M=()=>e.jsx("div",{children:"Instagram API Data Extraction Component"}),J=()=>e.jsx("div",{children:"YouTube API Data Extraction Component"}),O=()=>e.jsx("div",{children:"IEEE Xplore Data Extraction Component"}),_=()=>{const[a,p]=r.useState(null),o=()=>{switch(a){case"BeautifulSoup":return e.jsx(L,{});case"Requests":return e.jsx(U,{});case"TwitterAPI":return e.jsx(F,{});case"FacebookAPI":return e.jsx(B,{});case"InstagramAPI":return e.jsx(M,{});case"YouTubeAPI":return e.jsx(J,{});case"IEEEXplore":return e.jsx(O,{});default:return e.jsx("p",{className:"center-karo",children:"Please select a method for data extraction."})}};return e.jsxs("div",{className:"simulation2-container",children:[e.jsx("h1",{className:"header2",children:"Select a method for Data Extraction"}),e.jsx("div",{className:"button2-container",children:["BeautifulSoup","Requests","TwitterAPI"].map(c=>e.jsx("button",{onClick:()=>p(c),className:a===c?"active":"",children:c},c))}),e.jsx("div",{className:"component2-container",children:o()})]})};export{_ as default};
